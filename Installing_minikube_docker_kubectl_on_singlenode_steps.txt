1) Install latest version ubuntu on VM or machine.



2) Text Direction : Install Kubernetes using MiniKube
********** Install Docker CE Edition **********

1. Uninstall old versions

sudo apt-get remove docker docker-engine docker.io containerd runc



2. Update the apt package index

sudo apt-get update
sudo apt upgrade

sudo apt-get install apt-transport-https
sudo apt-get install ca-certificates
sudo apt-get install curl
sudo apt-get install gnupg
sudo apt-get install lsb-release

3. Add Dockerâ€™s official GPG key:

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg


4. Use the following command to set up the stable repository

echo "deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu  $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null


5. Install Docker Engine

sudo apt-get update
sudo apt-get install docker-ce docker-ce-cli containerd.io


6. verify Docker version

docker --version

7. If you see following error 
ERROR: permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/info": dial unix /var/run/docker.sock: connect: permission denied

execute below command

sudo chmod 666 /var/run/docker.sock

3) ********** Install KubeCtl **********

1. Download the latest release

curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"



2. Install kubectl

sudo install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl


3. Test to ensure the version you installed is up-to-date:

kubectl version --client





4) ********** Install MiniKube **********

1) Install minikube dependencies 

$ sudo apt update 
$ sudo apt install -y curl wget apt-transport-https

2) Download minikube binary 

$ curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
$ sudo install minikube-linux-amd64 /usr/local/bin/minikube

Verify minikube version 
$ minikube version

3) Start Minikube
$ minikube start --driver=docker

If you want to start minikube with custom resources then run 
 $ minikube start --addons=ingress --cpus=2 --cni=flannel --install-addons=true --kubernetes-version=stable --memory=6g

4) Verify minikube status 
$ minikube status

======
To install latest version or to remove corrupted minikube
delete the minikube and re-install using step4

minikube delete

follow step 4


5)*********** Install kubectl utility ***********

1)
$ curl -LO https://storage.googleapis.com/kubernetes-release/release/`curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt`/bin/linux/amd64/kubectl
$ sudo mv kubectl /usr/local/bin/
$ sudo chmod +x /usr/local/bin/kubectl

2) Verify kubernetes cluster, 

$ kubectl cluster-info
$ kubectl get nodes 

3) Get Cluster Information

kubectl config view


Optional command to enable add on on minikube
================================================

1)) Enable Minikube Addons like Dashboard & ingress controllers etc
$  minikube addons list

To Start and enable dashabord, run
$ minikube dashboard 

It will start and enable the dashboard and open its GUI in the web browser, 

To enable ingress controller, 
$ minikube addons enable ingress

2)) Test Kubernetes Cluster 
$ kubectl create deployment minikube-nginx --image=nginx
$ kubectl get deployments minikube-nginx
$ kubectl expose deployment minikube-nginx --name=minikube-nginx-svc --type=NodePort --port=80
 $ minikube service minikube-nginx-svc --url

3) Managing Minikube Cluster
$  minikube stop
$  minikube start
$  minikube delete